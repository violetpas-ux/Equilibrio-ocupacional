<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>EVALUANDO TU EQUILIBRO OCUPACIONAL</title>
  <!-- Enlace a la fuente Bitcount Prop Double desde Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Bitcount+Prop+Double&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Bitcount Prop Double', sans-serif;
      background-color: #f3e5f5; /* Fondo lila */
      color: #333;
      margin: 30px;
    }
    h2, h3 {
      color: #333;
    }
    form {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    input, select {
      margin: 5px;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      margin: 10px 5px;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      background: #0288d1;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #1565C0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #81d4fa; /* Azul celeste */
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    th {
      background: #0288d1; /* Azul más oscuro */
      color: white;
      padding: 12px;
      text-align: center;
    }
    td {
      color: #000;
      padding: 12px;
      text-align: center;
    }
    tr:nth-child(even) td {
      background-color: #b3e5fc; /* Azul celeste claro filas pares */
    }
    tr:nth-child(odd) td {
      background-color: #81d4fa; /* Azul celeste normal filas impares */
    }
    #resultado {
      font-weight: bold;
      font-size: 18px;
      padding: 15px;
      border-radius: 10px;
    }
    .ok { color: green; }
    .warning { color: orange; }
    .bad { color: red; }
  </style>
</head>
<body>

  <h2>EVALUANDO TU EQUILIBRIO OCUPACIONAL</h2>

  <form id="form">
    <input type="text" id="actividad" placeholder="Actividad realizada" required>
    <input type="number" id="tiempo" placeholder="Tiempo (horas)" min="0.1" step="0.1" required>
    <input type="number" id="importancia" placeholder="Importancia (1-10)" min="1" max="10" required>
    <input type="number" id="satisfaccion" placeholder="Satisfacción (1-10)" min="1" max="10" required>
    <select id="clasificacion" required>
      <option value="">-- Clasificación --</option>
      <option value="Ocio">Ocio</option>
      <option value="Productividad">Productividad</option>
      <option value="Autocuidado">Autocuidado</option>
    </select>
    <button type="submit">Añadir a la tabla</button>
  </form>

  <table id="tabla">
    <thead>
      <tr>
        <th>Actividad</th>
        <th>Tiempo (horas)</th>
        <th>Importancia</th>
        <th>Satisfacción</th>
        <th>Clasificación</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <button onclick="evaluar()">Evaluar equilibrio ocupacional</button>
  <h3 id="resultado"></h3>

  <script>
    const form = document.getElementById("form");
    const tabla = document.getElementById("tabla").querySelector("tbody");

    form.addEventListener("submit", function(e) {
      e.preventDefault();

      const actividad = document.getElementById("actividad").value;
      const tiempo = parseFloat(document.getElementById("tiempo").value);
      const importancia = parseInt(document.getElementById("importancia").value);
      const satisfaccion = parseInt(document.getElementById("satisfaccion").value);
      const clasificacion = document.getElementById("clasificacion").value;

      // Crear fila
      const fila = document.createElement("tr");
      fila.innerHTML = `
        <td>${actividad}</td>
        <td>${tiempo}</td>
        <td>${importancia}</td>
        <td>${satisfaccion}</td>
        <td>${clasificacion}</td>
      `;

      tabla.appendChild(fila);

      // Limpiar formulario
      form.reset();
    });

    function evaluar() {
      let filas = tabla.querySelectorAll("tr");
      if (filas.length === 0) {
        document.getElementById("resultado").innerText = "Añade al menos una actividad.";
        return;
      }

      let totalTiempo = 0;
      let sumaSatisfaccion = 0;
      let contador = 0;

      filas.forEach(fila => {
        let tiempo = parseFloat(fila.children[1].innerText);
        let satisfaccion = parseInt(fila.children[3].innerText);
        totalTiempo += tiempo;
        sumaSatisfaccion += satisfaccion;
        contador++;
      });

      let totalHoras = totalTiempo;
      let mediaSatisfaccion = sumaSatisfaccion / contador;
      let resultado = document.getElementById("resultado");

      if (totalHoras < 14) {
        resultado.innerText = "Necesitas registrar al menos 14 horas de actividades.";
        resultado.className = "warning";
        return;
      }

      if (mediaSatisfaccion >= 9) {
        resultado.innerText = "✅ SI EQUILIBRIO OCUPACIONAL";
        resultado.className = "ok";
      } else if (mediaSatisfaccion >= 6) {
        resultado.innerText = "⚠️ LIGERO DESEQUILIBRIO OCUPACIONAL";
        resultado.className = "warning";
      } else {
        resultado.innerText = "❌ DESEQUILIBRIO OCUPACIONAL";
        resultado.className = "bad";
      }
    }
  </script>

</body>
</html>